import os,sys
import requests,json
import binascii

class TestTRC:
    def __init__(self,account):
        self.account = self.getAccountTo41(account)
        self.nameAddressDemile = {}
        self.nameDemile = {}

    def __parse(self,s):
        r = s
        for i in range(64 - len(s)):
            if i >= 0:
                r += '0'
        return r

    def parseDataStruct(self):
        with open("res1","r") as f:
            fl = f.readlines()
            for l in fl:
                line = l.replace("\n",'').split('\t')
                name,dec,add,sym = line[0],line[1],line[2],line[-1]
                self.nameAddressDemile[name] = {"decimal":dec,"address":add,"symbol":sym}

    def __requestUrl(self,addCode,method):
        url = "https://api.trongrid.io/wallet/triggerconstantcontract"
        body = '{"contract_address":"%s","function_selector":"%s","parameter":"","fee_limit":10,"call_value":0,"owner_address":"%s"}'%(addCode,method,self.account)
        headers = {"Content-Type": "application/json"}
        response = json.loads(requests.post(url, body, headers=headers).text)
        assert response["result"]["result"] == True,"__requestUrl response result is not true!"
        return response

    def getAccountTo41(self,account):
        url = "https://api.trongrid.io/v1/accounts/{}".format(account)
        headers = {"Content-Type": "application/json"}
        response = json.loads(requests.get(url, headers=headers).text)
        assert response.get("success") == True,"getAccountTo41 %s code failed!" % account
        return response.get("data")[0].get("address")

    def totalSupply(self):
        for name in self.nameAddressDemile.keys():
            try:
                addr = self.nameAddressDemile.get(name,{}).get("address")
                addCode = self.getAccountTo41(addr)
                response = self.__requestUrl(addCode,"totalSupply()")
                print (name," totalSupply : ",int(response["constant_result"][0]))
                assert int(response["constant_result"][0]) == 0,"totalSupply() is not 0!"
            except Exception as e:
                print (e)

    def decimalsAndName(self):
        for name in self.nameAddressDemile.keys():
            print (name)
            try:
                addr = self.nameAddressDemile.get(name, {}).get("address")
                dec = self.nameAddressDemile.get(name, {}).get("decimal")
                symbol = self.nameAddressDemile.get(name,{}).get("symbol")
                addCode = self.getAccountTo41(addr)

                responseDec = self.__requestUrl(addCode, "decimals()")
                resdec = int(responseDec["constant_result"][0], 16)
                # print ("dec:",resdec,dec)
                assert int(dec) == int(resdec), "decimals() %s decimals is not equal!getdec is %s,excel dec is %s" % (name, resdec, dec)

                responseName = self.__requestUrl(addCode, "name()")
                namecode = binascii.b2a_hex(name.encode()).decode()
                namecode = self.__parse(namecode)
                s = responseName["constant_result"][0][-64:]
                # print ("name:",s,namecode)
                assert str(namecode) == str(s), "name() %s name is not equal!getname is %s,excel name is %s" % (name, s, namecode)

                responseSymbol = self.__requestUrl(addCode, "symbol()")
                sym = responseSymbol["constant_result"][0][-64:]
                symbolcode = binascii.b2a_hex(symbol.encode()).decode()
                symbolcode = self.__parse(symbolcode)
                # print ("symbol:",sym,symbolcode)
                assert str(namecode) == str(s),"symbol() %s symbol is not equal!" %(name)

            except Exception as e:
                print (e)

    def checkOwner(self):
        for name in self.nameAddressDemile.keys():
            try:
                addr = self.nameAddressDemile.get(name, {}).get("address")
                addCode = self.getAccountTo41(addr)
                response = self.__requestUrl(addCode, "owner()")
                owner = "0000000000000000000000006b5b1f9f42825edfbdd59a853cfbdc26d5c7c5aa"
                ow = response["constant_result"][0]
                print (ow,owner)
                assert ow == owner,"%s owner() failed!" %(name)
            except Exception as e:
                print (e)

    def checkAbiAndName(self):
        content = ""
        with open("bytecode",'r') as f:
            fl = f.read()
            content = fl.replace("\n",'')
        url = "https://api.trongrid.io/wallet/getcontract"
        for name in self.nameAddressDemile.keys():
            try:
                addr = self.nameAddressDemile.get(name,{}).get("address")
                addCode = self.getAccountTo41(addr)
                body = '{"value":"%s"}' % (addCode)
                headers = {"Content-Type": "application/json"}
                response = json.loads(requests.post(url, body, headers=headers).text)
                assert content in response.get("bytecode"),"checkAbiAndName bytecode is diff!"
                resname = response.get("name")
                assert resname == name,"checkAbiAndName name is diff!resname:%s,excelname:%s"%(resname,name)
            except Exception as e:
                print (e)

def main():
    account = "TTJJvoPKGVKnbUBPVTn1Zi8o6k3EfFDXVS"
    t = TestTRC(account)
    t.parseDataStruct()
    t.checkOwner()
    # t.totalSupply()
    t.decimalsAndName()
    # t.checkAbiAndName()



if __name__ == '__main__':
    main()


# 部署智能合约
# def deployContract():
# # nile:47.252.19.181:8090
#     url = "https://api.shasta.trongrid.io/wallet/deploycontract"
#     url = "http://47.252.19.181:8090/wallet/deploycontract"
#     payload = {
#         "owner_address": "41BE16FD25B87F12BBEC7BA29028F05471000582A7",
#         "abi":"[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"address[3]\",\"name\":\"_coins\",\"type\":\"address[3]\"},{\"internalType\":\"address\",\"name\":\"_pool_token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_A\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_fee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_admin_fee\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_fee_converter\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"token_amounts\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"fees\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"invariant\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"token_supply\",\"type\":\"uint256\"}],\"name\":\"AddLiquidity\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"CommitNewAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"admin_fee\",\"type\":\"uint256\"}],\"name\":\"CommitNewFee\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"}],\"name\":\"NewAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"admin_fee\",\"type\":\"uint256\"}],\"name\":\"NewFee\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"fee_converter\",\"type\":\"address\"}],\"name\":\"NewFeeConverter\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"old_A\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"new_A\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"initial_time\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"future_time\",\"type\":\"uint256\"}],\"name\":\"RampA\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"token_amounts\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"fees\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"token_supply\",\"type\":\"uint256\"}],\"name\":\"RemoveLiquidity\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"token_amounts\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256[3]\",\"name\":\"fees\",\"type\":\"uint256[3]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"invariant\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"token_supply\",\"type\":\"uint256\"}],\"name\":\"RemoveLiquidityImbalance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"token_amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"coin_amount\",\"type\":\"uint256\"}],\"name\":\"RemoveLiquidityOne\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"A\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"t\",\"type\":\"uint256\"}],\"name\":\"StopRampA\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"buyer\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int128\",\"name\":\"sold_id\",\"type\":\"int128\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokens_sold\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int128\",\"name\":\"bought_id\",\"type\":\"int128\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokens_bought\",\"type\":\"uint256\"}],\"name\":\"TokenExchange\",\"type\":\"event\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"constant\":true,\"inputs\":[],\"name\":\"A\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"_xp\",\"outputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"\",\"type\":\"uint256[3]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"_balances\",\"type\":\"uint256[3]\"}],\"name\":\"_xp_mem\",\"outputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"\",\"type\":\"uint256[3]\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"amounts\",\"type\":\"uint256[3]\"},{\"internalType\":\"uint256\",\"name\":\"min_mint_amount\",\"type\":\"uint256\"}],\"name\":\"add_liquidity\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin_actions_deadline\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"i\",\"type\":\"uint256\"}],\"name\":\"admin_balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin_fee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"apply_new_fee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"apply_transfer_ownership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"amounts\",\"type\":\"uint256[3]\"},{\"internalType\":\"bool\",\"name\":\"deposit\",\"type\":\"bool\"}],\"name\":\"calc_token_amount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_token_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint128\",\"name\":\"i\",\"type\":\"uint128\"}],\"name\":\"calc_withdraw_one_coin\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"coins\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_fee_converter\",\"type\":\"address\"}],\"name\":\"commit_fee_converter\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"new_fee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"new_admin_fee\",\"type\":\"uint256\"}],\"name\":\"commit_new_fee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"commit_transfer_ownership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint128\",\"name\":\"i\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"j\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"dx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"min_dy\",\"type\":\"uint256\"}],\"name\":\"exchange\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"fee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"fee_converter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"future_A\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"future_A_time\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"future_admin_fee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"future_fee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"future_owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"xp\",\"type\":\"uint256[3]\"},{\"internalType\":\"uint256\",\"name\":\"amp\",\"type\":\"uint256\"}],\"name\":\"get_D\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"_balances\",\"type\":\"uint256[3]\"},{\"internalType\":\"uint256\",\"name\":\"amp\",\"type\":\"uint256\"}],\"name\":\"get_D_mem\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint128\",\"name\":\"i\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"j\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"dx\",\"type\":\"uint256\"}],\"name\":\"get_dy\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint128\",\"name\":\"i\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"j\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"dx\",\"type\":\"uint256\"}],\"name\":\"get_dy_underlying\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get_virtual_price\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"initial_A\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"initial_A_time\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"kill_me\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_future_A\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_future_time\",\"type\":\"uint256\"}],\"name\":\"ramp_A\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256[3]\",\"name\":\"min_amounts\",\"type\":\"uint256[3]\"}],\"name\":\"remove_liquidity\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256[3]\",\"name\":\"amounts\",\"type\":\"uint256[3]\"},{\"internalType\":\"uint256\",\"name\":\"max_burn_amount\",\"type\":\"uint256\"}],\"name\":\"remove_liquidity_imbalance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_token_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint128\",\"name\":\"i\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"min_amount\",\"type\":\"uint256\"}],\"name\":\"remove_liquidity_one_coin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"revert_new_parameters\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"revert_transfer_ownership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"stop_ramp_A\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract CurveToken\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"transfer_ownership_deadline\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unkill_me\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw_admin_fees\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]",
#         "bytecode":"60e06040526000608081815260a082905260c0919091526200002690600190600362000193565b50604080516060810182526001808252602082018190529181019190915262000054906004906003620001d6565b5060408051606081018252670de0b6b3a76400008082526020820181905291810191909152620000899060079060036200020c565b503480156200009757600080fd5b50d38015620000a557600080fd5b50d28015620000b357600080fd5b5060405162004bda38038062004bda833981016040819052620000d69162000394565b6000805460ff191660011781555b600381101562000120576000878260038110620000fd57fe5b60200201516001600160a01b031614156200011757600080fd5b600101620000e4565b5062000130600a87600362000248565b506014849055601593909355601091909155601155601280546001600160a01b039586166001600160a01b03199182161790915542624f1a0001601d556013805493861693821693909317909255601e80549190941691161790915550620004c9565b8260038101928215620001c4579160200282015b82811115620001c4578251825591602001919060010190620001a7565b50620001d2929150620002a1565b5090565b8260038101928215620001c4579160200282015b82811115620001c4578251829060ff16905591602001919060010190620001ea565b8260038101928215620001c4579160200282015b82811115620001c457825182906001600160401b031690559160200191906001019062000220565b826003810192821562000293579160200282015b828111156200029357825182546001600160a01b0319166001600160a01b039091161782556020909201916001909101906200025c565b50620001d2929150620002c1565b620002be91905b80821115620001d25760008155600101620002a8565b90565b620002be91905b80821115620001d25780546001600160a01b0319168155600101620002c8565b8051620002f581620004a4565b620003008162000486565b9392505050565b600082601f8301126200031957600080fd5b6003620003306200032a8262000468565b62000441565b915081838560208402820111156200034757600080fd5b60005b83811015620003775781620003608882620002e8565b84525060209283019291909101906001016200034a565b5050505092915050565b80516200038e81620004be565b92915050565b6000806000806000806000610120888a031215620003b157600080fd5b6000620003bf8a8a620002e8565b9750506020620003d28a828b0162000307565b9650506080620003e58a828b01620002e8565b95505060a0620003f88a828b0162000381565b94505060c06200040b8a828b0162000381565b93505060e06200041e8a828b0162000381565b925050610100620004328a828b01620002e8565b91505092959891949750929550565b6040518181016001600160401b03811182821017156200046057600080fd5b604052919050565b60006001600160401b038211156200047f57600080fd5b5060200290565b60006001600160a01b0382166200038e565b6001600160a81b031690565b620004af8162000498565b8114620004bb57600080fd5b50565b620004af81620002be565b61470180620004d96000396000f3fe6080604052600436106101f75760003560e01c80630a8dd11b146101f957806314052288146102335780631ec0cdc1146102785780632081066c146102b4578063226840fb146102e35780633046f9721461031257806330c54085146103415780633172273c146103705780633883e119146103aa5780633a8da898146103e45780633c157e641461041e578063405e28f8146104585780634515cef3146104875780634903b0d1146104c15780634f12fe97146104fb5780635409491a1461052a578063551a65881461055957806357d42f1b1461058857806358680d0b146105c25780635b5a1467146105f15780636a1c05ae1461062b5780636b441a401461065a57806375553f8f1461069457806386fbf193146106ce5780638b18bd18146106fd5780638ba78f9b146107445780638da5cb5b1461077e5780639fdaea0c146107ad578063b4b577ad146107e7578063bb7b8b8014610816578063c661065714610845578063d8df79e81461087f578063d90097f7146108b9578063ddca3f43146108e8578063e0a0b58614610917578063e2e7d26414610946578063e369885314610980578063e3824462146109af578063e95dc522146109de578063ea8494c114610a18578063ecb586a514610a47578063f446c1d014610a81578063fc0c546a14610ab0578063fee3f7f914610aec575b005b34801561020557600080fd5b50d3801561021257600080fd5b50d2801561021f57600080fd5b506101f761022e3660046139da565b610b1b565b34801561023f57600080fd5b50d3801561024c57600080fd5b50d2801561025957600080fd5b50610262610b98565b60405161026f919061453e565b60405180910390f35b34801561028457600080fd5b50d3801561029157600080fd5b50d2801561029e57600080fd5b506102a7610b9e565b60405161026f9190614269565b3480156102c057600080fd5b50d380156102cd57600080fd5b50d280156102da57600080fd5b50610262610bad565b3480156102ef57600080fd5b50d380156102fc57600080fd5b50d2801561030957600080fd5b506101f7610bb3565b34801561031e57600080fd5b50d3801561032b57600080fd5b50d2801561033857600080fd5b506101f7610be4565b34801561034d57600080fd5b50d3801561035a57600080fd5b50d2801561036757600080fd5b506101f7610c1d565b34801561037c57600080fd5b50d3801561038957600080fd5b50d2801561039657600080fd5b506102626103a5366004613abd565b610e06565b3480156103b657600080fd5b50d380156103c357600080fd5b50d280156103d057600080fd5b506102626103df3660046139f8565b610f57565b3480156103f057600080fd5b50d380156103fd57600080fd5b50d2801561040a57600080fd5b50610262610419366004613a80565b61111b565b34801561042a57600080fd5b50d3801561043757600080fd5b50d2801561044457600080fd5b506101f7610453366004613c28565b6112a8565b34801561046457600080fd5b50d3801561047157600080fd5b50d2801561047e57600080fd5b506102626113d6565b34801561049357600080fd5b50d380156104a057600080fd5b50d280156104ad57600080fd5b506101f76104bc366004613a32565b6113dc565b3480156104cd57600080fd5b50d380156104da57600080fd5b50d280156104e757600080fd5b506102626104f6366004613b6b565b6119d3565b34801561050757600080fd5b50d3801561051457600080fd5b50d2801561052157600080fd5b506101f76119e7565b34801561053657600080fd5b50d3801561054357600080fd5b50d2801561055057600080fd5b50610262611aa5565b34801561056557600080fd5b50d3801561057257600080fd5b50d2801561057f57600080fd5b506101f7611aab565b34801561059457600080fd5b50d380156105a157600080fd5b50d280156105ae57600080fd5b506102626105bd366004613abd565b611b32565b3480156105ce57600080fd5b50d380156105db57600080fd5b50d280156105e857600080fd5b50610262611c18565b3480156105fd57600080fd5b50d3801561060a57600080fd5b50d2801561061757600080fd5b506101f7610626366004613c28565b611c1e565b34801561063757600080fd5b50d3801561064457600080fd5b50d2801561065157600080fd5b506101f7611d1a565b34801561066657600080fd5b50d3801561067357600080fd5b50d2801561068057600080fd5b506101f761068f3660046139da565b611ddb565b3480156106a057600080fd5b50d380156106ad57600080fd5b50d280156106ba57600080fd5b506102626106c9366004613bd7565b611e90565b3480156106da57600080fd5b50d380156106e757600080fd5b50d280156106f457600080fd5b506101f7611ea6565b34801561070957600080fd5b50d3801561071657600080fd5b50d2801561072357600080fd5b50610737610732366004613a62565b611ed7565b60405161026f9190614315565b34801561075057600080fd5b50d3801561075d57600080fd5b50d2801561076a57600080fd5b506101f7610779366004613c07565b611f71565b34801561078a57600080fd5b50d3801561079757600080fd5b50d280156107a457600080fd5b506102a7612170565b3480156107b957600080fd5b50d380156107c657600080fd5b50d280156107d357600080fd5b506101f76107e2366004613a32565b61217f565b3480156107f357600080fd5b50d3801561080057600080fd5b50d2801561080d57600080fd5b506102626125fe565b34801561082257600080fd5b50d3801561082f57600080fd5b50d2801561083c57600080fd5b50610262612604565b34801561085157600080fd5b50d3801561085e57600080fd5b50d2801561086b57600080fd5b506102a761087a366004613b6b565b6126ca565b34801561088b57600080fd5b50d3801561089857600080fd5b50d280156108a557600080fd5b506102626108b4366004613a80565b6126e7565b3480156108c557600080fd5b50d380156108d257600080fd5b50d280156108df57600080fd5b506102a76126fb565b3480156108f457600080fd5b50d3801561090157600080fd5b50d2801561090e57600080fd5b5061026261270a565b34801561092357600080fd5b50d3801561093057600080fd5b50d2801561093d57600080fd5b50610262612710565b34801561095257600080fd5b50d3801561095f57600080fd5b50d2801561096c57600080fd5b5061026261097b366004613b6b565b612716565b34801561098c57600080fd5b50d3801561099957600080fd5b50d280156109a657600080fd5b506101f7612766565b3480156109bb57600080fd5b50d380156109c857600080fd5b50d280156109d557600080fd5b506102626127c6565b3480156109ea57600080fd5b50d380156109f757600080fd5b50d28015610a0457600080fd5b506101f7610a13366004613b0a565b6127cc565b348015610a2457600080fd5b50d38015610a3157600080fd5b50d28015610a3e57600080fd5b50610737612c13565b348015610a5357600080fd5b50d38015610a6057600080fd5b50d28015610a6d57600080fd5b506101f7610a7c366004613ba7565b612caa565b348015610a8d57600080fd5b50d38015610a9a57600080fd5b50d28015610aa757600080fd5b50610262612f3e565b348015610abc57600080fd5b50d38015610ac957600080fd5b50d28015610ad657600080fd5b50610adf612f4d565b60405161026f919061434b565b348015610af857600080fd5b50d38015610b0557600080fd5b50d28015610b1257600080fd5b50610262612f5c565b6012546001600160a01b03163314610b4e5760405162461bcd60e51b8152600401610b459061442e565b60405180910390fd5b601e80546001600160a01b0319166001600160a01b0383169081179091556040517f4b4ec814d485fb853d2c9f8d6cae7e3b31a53ac5e208796481991f2f2401c02e90600090a250565b60175481565b601c546001600160a01b031681565b60165481565b6012546001600160a01b03163314610bdd5760405162461bcd60e51b8152600401610b459061442e565b6000601855565b6012546001600160a01b03163314610c0e5760405162461bcd60e51b8152600401610b459061442e565b601c805460ff60a01b19169055565b60005b6003811015610d9d576000600a8260038110610c3857fe5b01546001600160a01b031690506000610ce1600d8460038110610c5757fe5b01546040516370a0823160e01b81526001600160a01b038516906370a0823190610c85903090600401614277565b60206040518083038186803b158015610c9d57600080fd5b505afa158015610cb1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cd59190810190613b89565b9063ffffffff612f6216565b90508015610d2557601e54610d09906001600160a01b0384811691168363ffffffff612f8a16565b610d255760405162461bcd60e51b8152600401610b459061450e565b82600114610d9357601e54604051632047fcf560e01b81526001600160a01b0390911690632047fcf590610d6090869060019060040161454c565b600060405180830381600087803b158015610d7a57600080fd5b505af1158015610d8e573d6000803e3d6000fd5b505050505b5050600101610c20565b50601e54600b546040516302fdce7960e51b81526001600160a01b0392831692635fb9cf2092610dd292911690600401614269565b600060405180830381600087803b158015610dec57600080fd5b505af1158015610e00573d6000803e3d6000fd5b50505050565b6000610e10613898565b610e18612c13565b9050610e22613898565b6040805160608101918290529060049060039082845b815481526020019060010190808311610e3857505050505090506000610ea7610e8183896001600160801b031660038110610e6f57fe5b6020020151879063ffffffff61308e16565b84896001600160801b031660038110610e9657fe5b60200201519063ffffffff6130c816565b90506000610eb7888884876130ed565b90506000610f1384896001600160801b031660038110610ed357fe5b6020020151610f076001610cd5868a8e6001600160801b031660038110610ef657fe5b60200201519063ffffffff612f6216565b9063ffffffff6132f716565b90506000610f356402540be400610f078460105461308e90919063ffffffff16565b9050610f47828263ffffffff612f6216565b96505050505050505b9392505050565b6000610f61613898565b60408051606081019182905290600d9060039082845b815481526020019060010190808311610f7757505050505090506000610f9b61332c565b90506000610fa983836126e7565b905060005b600381101561102d578515610ff357610fdd878260038110610fcc57fe5b6020020135858360038110610e9657fe5b848260038110610fe957fe5b6020020152611025565b61101387826003811061100257fe5b6020020135858360038110610ef657fe5b84826003811061101f57fe5b60200201525b600101610fae565b50600061103a84846126e7565b90506000601360009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b15801561108c57600080fd5b505afa1580156110a0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506110c49190810190613b89565b9050600087156110e5576110de838563ffffffff612f6216565b90506110f8565b6110f5848463ffffffff612f6216565b90505b61110c84610f07838563ffffffff61308e16565b96505050505050505b92915050565b600080805b60038110156111545761114a85826003811061113857fe5b6020020151839063ffffffff6130c816565b9150600101611120565b5080611164576000915050611115565b6000818161117986600363ffffffff61308e16565b905060005b60ff81101561129c578260005b60038110156111d3576111c96111b960038c84600381106111a857fe5b60200201519063ffffffff61308e16565b610f07848863ffffffff61308e16565b915060010161118b565b50929350839261124a611222611201836111f56003600163ffffffff6130c816565b9063ffffffff61308e16565b611216876111f588600163ffffffff612f6216565b9063ffffffff6130c816565b610f07866111f561123a86600363ffffffff61308e16565b611216898d63ffffffff61308e16565b935084841115611276576001611266858763ffffffff612f6216565b11611271575061129c565b611293565b6001611288868663ffffffff612f6216565b11611293575061129c565b5060010161117e565b50909695505050505050565b6012546001600160a01b031633146112d25760405162461bcd60e51b8152600401610b459061442e565b6016546112e8906201518063ffffffff6130c816565b4210156112f457600080fd5b611307426201518063ffffffff6130c816565b8110156113265760405162461bcd60e51b8152600401610b459061451e565b600061133061332c565b9050808310158015611352575061134e81600a63ffffffff61308e16565b8311155b806113775750808310801561137757508061137484600a63ffffffff61308e16565b10155b61138057600080fd5b6014819055601583905542601681905560178390556040517fa2b71ec6df949300b59aab36b55e189697b750119dd349fcfa8c0f779e83c254916113c991849187918790614575565b60405180910390a1505050565b60185481565b60005460ff166113fe5760405162461bcd60e51b8152600401610b45906144ce565b6000805460ff19169055601c54600160a01b900460ff16156114325760405162461bcd60e51b8152600401610b45906143de565b600061143c61332c565b90506000601360009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b15801561148e57600080fd5b505afa1580156114a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506114c69190810190613b89565b905060006114d2613898565b60408051606081019182905290600d9060039082845b8154815260200190600101908083116114e8575050505050905060008311156115185761151581856126e7565b91505b611520613898565b508060005b60038110156116d157600088826003811061153c57fe5b602002013590508561156857600081116115685760405162461bcd60e51b8152600401610b459061448e565b6000600a836003811061157757fe5b01546001600160a01b0316905081156116a6576002831415611612576040516370a0823160e01b81526001600160a01b038216906370a08231906115bf903090600401614277565b60206040518083038186803b1580156115d757600080fd5b505afa1580156115eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061160f9190810190613b89565b91505b61164e33308c866003811061162357fe5b6020020135600a876003811061163557fe5b01546001600160a01b031692919063ffffffff6133ec16565b61166a5760405162461bcd60e51b8152600401610b459061450e565b60028314156116a6576116a382826001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610c859190614277565b91505b6116b682868560038110610e9657fe5b8484600381106116c257fe5b60200201525050600101611525565b5060006116de82876126e7565b90508381116116ff5760405162461bcd60e51b8152600401610b459061452e565b6000611709613898565b6040805160608101918290529060019060039082845b81548152602001906001019080831161171f575093945086935050891591506118a290505760105460009061176290600890610f0790600363ffffffff61308e16565b60115490915060005b600381101561188e57600061179b8b610f078c856003811061178957fe5b60200201518b9063ffffffff61308e16565b905060008983600381106117ab57fe5b60200201518211156117df576117d88a84600381106117c657fe5b6020020151839063ffffffff612f6216565b90506117f2565b6117ef828b8560038110610ef657fe5b90505b61180b6402540be400610f07878463ffffffff61308e16565b87846003811061181757fe5b60200201526118446118386402540be400610f07878b88600381106111a857fe5b8b8560038110610ef657fe5b600d846003811061185157fe5b015561187387846003811061186257fe5b60200201518b8560038110610ef657fe5b8a846003811061187f57fe5b6020020152505060010161176b565b50611899878c6126e7565b925050506118b1565b6118af600d8660036138b6565b505b876118be578392506118e5565b6118e287610f076118d5848363ffffffff612f6216565b8b9063ffffffff61308e16565b92505b898310156119055760405162461bcd60e51b8152600401610b459061441e565b6013546040516340c10f1960e01b81526001600160a01b03909116906340c10f19906119379033908790600401614285565b600060405180830381600087803b15801561195157600080fd5b505af1158015611965573d6000803e3d6000fd5b503392507f423f6495a08fc652425cf4ed0d1f9e37e571d9b9529b1c1c23cce780b2e7df0d91508d905084876119a18d8963ffffffff6130c816565b6040516119b194939291906142d6565b60405180910390a250506000805460ff19166001179055505050505050505050565b600d81600381106119e057fe5b0154905081565b6012546001600160a01b03163314611a115760405162461bcd60e51b8152600401610b459061442e565b601854421015611a335760405162461bcd60e51b8152600401610b459061451e565b601854611a525760405162461bcd60e51b8152600401610b459061444e565b6000601855601a54601b54601082905560118190556040517fbe12859b636aed607d5230b2cc2711f68d70e51060e6cca1f575ef5d2fcc95d190611a999084908490614567565b60405180910390a15050565b60145481565b6012546001600160a01b03163314611ad55760405162461bcd60e51b8152600401610b459061442e565b6000611adf61332c565b6014819055601581905542601681905560178190556040519192507f46e22fb3709ad289f62ce63d469248536dbc78d82b84a3d7e74ad606dc20193891611b27918491614567565b60405180910390a150565b6000611b3c613898565b611b44612c13565b9050600080611b80610e81670de0b6b3a7640000610f0760078b6001600160801b031660038110611b7157fe5b0154899063ffffffff61308e16565b90506000611b90888884876130ed565b9050611bd76007886001600160801b031660038110611bab57fe5b0154610f07670de0b6b3a76400006111f56001610cd5878b8f6001600160801b031660038110610ef657fe5b925050506000611bfb6402540be400610f078460105461308e90919063ffffffff16565b9050611c0d828263ffffffff612f6216565b979650505050505050565b601a5481565b6012546001600160a01b03163314611c485760405162461bcd60e51b8152600401610b459061442e565b60185415611c685760405162461bcd60e51b8152600401610b459061447e565b64012a05f200821115611c8d5760405162461bcd60e51b8152600401610b45906144de565b6402540be400811115611cb25760405162461bcd60e51b8152600401610b45906144ee565b6000611cc7426203f48063ffffffff6130c816565b6018819055601a849055601b83905560405190915081907f351fc5da2fbf480f2225debf3664a4bc90fa9923743aad58b4603f648e931fe090611d0d9086908690614567565b60405180910390a2505050565b6012546001600160a01b03163314611d445760405162461bcd60e51b8152600401610b459061442e565b601954421015611d665760405162461bcd60e51b8152600401610b459061451e565b601954611d855760405162461bcd60e51b8152600401610b45906143ae565b60006019819055601c54601280546001600160a01b0319166001600160a01b039092169182179055604051909182917f71614071b88dee5e0b2ae578a9dd7b2ebbe9ae832ba419dc0242cd065a290b6c9190a250565b6012546001600160a01b03163314611e055760405162461bcd60e51b8152600401610b459061442e565b60195415611e255760405162461bcd60e51b8152600401610b459061443e565b6000611e3a426203f48063ffffffff6130c816565b6019819055601c80546001600160a01b0319166001600160a01b0385169081179091556040519192509082907f181aa3aa17d4cbf99265dd4443eba009433d3cde79d60164fde1d1a192beb93590600090a35050565b600080611e9d84846134ba565b50949350505050565b6012546001600160a01b03163314611ed05760405162461bcd60e51b8152600401610b459061442e565b6000601955565b611edf613898565b611ee7613898565b6040805160608101918290529060079060039082845b815481526020019060010190808311611efd5750939450600093505050505b6003811015611f6a57611f51670de0b6b3a7640000610f07868460038110611f4057fe5b60200201518585600381106111a857fe5b828260038110611f5d57fe5b6020020152600101611f1c565b5092915050565b60005460ff16611f935760405162461bcd60e51b8152600401610b45906144ce565b6000805460ff19169055601c54600160a01b900460ff1615611fc75760405162461bcd60e51b8152600401610b45906143de565b600080611fd485856134ba565b909250905082821015611ff95760405162461bcd60e51b8152600401610b459061440e565b61204e61202a61201d6402540be400610f076011548661308e90919063ffffffff16565b849063ffffffff6130c816565b600d866001600160801b03166003811061204057fe5b01549063ffffffff612f6216565b600d856001600160801b03166003811061206457fe5b015560135460405163079cc67960e41b81526001600160a01b03909116906379cc6790906120989033908990600401614285565b600060405180830381600087803b1580156120b257600080fd5b505af11580156120c6573d6000803e3d6000fd5b505050506120fd3383600a876001600160801b0316600381106120e557fe5b01546001600160a01b0316919063ffffffff612f8a16565b6121195760405162461bcd60e51b8152600401610b459061450e565b336001600160a01b03167f9e96dd3b997a2a257eec4df9bb6eaf626e206df5f543bd963682d143300be3108684604051612154929190614567565b60405180910390a250506000805460ff19166001179055505050565b6012546001600160a01b031681565b60005460ff166121a15760405162461bcd60e51b8152600401610b45906144ce565b6000805460ff19169055601c54600160a01b900460ff16156121d55760405162461bcd60e51b8152600401610b45906143de565b601354604080516318160ddd60e01b815290516000926001600160a01b0316916318160ddd916004808301926020929190829003018186803b15801561221a57600080fd5b505afa15801561222e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506122529190810190613b89565b9050806122715760405162461bcd60e51b8152600401610b459061438e565b60105460009061228f90600890610f0790600363ffffffff61308e16565b601154909150600061229f61332c565b90506122a9613898565b60408051606081019182905290600d9060039082845b8154815260200190600101908083116122bf57505050505090506122e1613898565b508060006122ef82856126e7565b905060005b60038110156123365761231d8a826003811061230c57fe5b6020020135848360038110610ef657fe5b83826003811061232957fe5b60200201526001016122f4565b50600061234383866126e7565b905061234d613898565b6040805160608101918290529060019060039082845b8154815260200190600101908083116123635750939450600093505050505b60038110156124815760006123a085610f07898560038110610e6f57fe5b905060008683600381106123b057fe5b60200201518211156123d2576123cb8784600381106117c657fe5b90506123e5565b6123e282888560038110610ef657fe5b90505b6123fe6402540be400610f078d8463ffffffff61308e16565b84846003811061240a57fe5b602002015261243761242b6402540be400610f078d8888600381106111a857fe5b888560038110610ef657fe5b600d846003811061244457fe5b015561246684846003811061245557fe5b6020020151888560038110610ef657fe5b87846003811061247257fe5b60200201525050600101612382565b5060008061248f86896126e7565b90506124a985610f078d6111f5838663ffffffff612f6216565b9150508a8111156124cc5760405162461bcd60e51b8152600401610b459061441e565b60135460405163079cc67960e41b81526001600160a01b03909116906379cc6790906124fe9033908590600401614285565b600060405180830381600087803b15801561251857600080fd5b505af115801561252c573d6000803e3d6000fd5b506000925050505b6003811015612599578c816003811061254957fe5b60200201351561259157612575338e836003811061256357fe5b6020020135600a84600381106120e557fe5b6125915760405162461bcd60e51b8152600401610b459061450e565b600101612534565b50336001600160a01b03167f173599dbf9c6ca6f7c3b590df07ae98a45d74ff54065505141e7de6c46a624c28d8486858f036040516125db94939291906142d6565b60405180910390a250506000805460ff1916600117905550505050505050505050565b60155481565b60008061261a612612612c13565b61041961332c565b90506000601360009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b15801561266c57600080fd5b505afa158015612680573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506126a49190810190613b89565b90506126c281610f0784670de0b6b3a764000063ffffffff61308e16565b925050505b90565b600a81600381106126d757fe5b01546001600160a01b0316905081565b6000610f506126f584611ed7565b8361111b565b601e546001600160a01b031681565b60105481565b60195481565b6000611115600d836003811061272857fe5b0154600a846003811061273757fe5b01546040516370a0823160e01b81526001600160a01b03909116906370a0823190610c85903090600401614277565b6012546001600160a01b031633146127905760405162461bcd60e51b8152600401610b459061442e565b42601d54116127b15760405162461bcd60e51b8152600401610b45906143fe565b601c805460ff60a01b1916600160a01b179055565b601b5481565b60005460ff166127ee5760405162461bcd60e51b8152600401610b45906144ce565b6000805460ff19169055601c54600160a01b900460ff16156128225760405162461bcd60e51b8152600401610b45906143de565b61282a613898565b6040805160608101918290529060079060039082845b8154815260200190600101908083116128405750505050509050612862613898565b60408051606081019182905290600d9060039082845b815481526020019060010190808311612878575050505050905061289a613898565b6128a382611ed7565b9050846000600a6001600160801b038a16600381106128be57fe5b01546001600160a01b031690506001600160801b0389166002141561295c576040516370a0823160e01b81526001600160a01b038216906370a0823190612909903090600401614277565b60206040518083038186803b15801561292157600080fd5b505afa158015612935573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506129599190810190613b89565b91505b6129776001600160a01b03821633308a63ffffffff6133ec16565b6129935760405162461bcd60e51b8152600401610b45906143ee565b6001600160801b038916600214156129d8576129d582826001600160a01b03166370a08231306040518263ffffffff1660e01b8152600401610c859190614277565b91505b600080612a29612a14670de0b6b3a7640000610f078a8f6001600160801b031660038110612a0257fe5b6020020151889063ffffffff61308e16565b868d6001600160801b031660038110610e9657fe5b9050612a378b8b83886130ed565b9150506000612a5a6001610cd584888e6001600160801b031660038110610ef657fe5b90506000612a7c6402540be400610f076010548561308e90919063ffffffff16565b9050612ab7888c6001600160801b031660038110612a9657fe5b6020020151610f07670de0b6b3a76400006111f5868663ffffffff612f6216565b915088821015612ad95760405162461bcd60e51b8152600401610b459061439e565b6000612af96402540be400610f076011548561308e90919063ffffffff16565b9050612b30898d6001600160801b031660038110612b1357fe5b6020020151610f0783670de0b6b3a764000063ffffffff61308e16565b905085888e6001600160801b031660038110612b4857fe5b602002015101600d8e6001600160801b031660038110612b6457fe5b01558083896001600160801b038f1660038110612b7d57fe5b60200201510303600d8d6001600160801b031660038110612b9a57fe5b015550612bb83383600a6001600160801b038f16600381106120e557fe5b612bd45760405162461bcd60e51b8152600401610b459061450e565b336001600160a01b03167f8b3e96f2b889fa771c53c981b40daf005f63f637f1869f707052d15a3dd971408d8c8e866040516125db9493929190614359565b612c1b613898565b612c23613898565b6040805160608101918290529060079060039082845b815481526020019060010190808311612c395750939450600093505050505b6003811015612ca457612c8b670de0b6b3a7640000610f07600d8460038110612c7d57fe5b01548585600381106111a857fe5b828260038110612c9757fe5b6020020152600101612c58565b50905090565b60005460ff16612ccc5760405162461bcd60e51b8152600401610b45906144ce565b6000805460ff19168155601354604080516318160ddd60e01b815290516001600160a01b03909216916318160ddd91600480820192602092909190829003018186803b158015612d1b57600080fd5b505afa158015612d2f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250612d539190810190613b89565b9050612d5d613898565b6040805160608101918290529060019060039082845b815481526020019060010190808311612d735750505050509050612d95613898565b6040805160608101918290529060019060039082845b815481526020019060010190808311612dab5750939450600093505050505b6003811015612e93576000612df885610f0789600d8660038110612dea57fe5b01549063ffffffff61308e16565b9050858260038110612e0657fe5b6020020135811015612e2a5760405162461bcd60e51b8152600401610b45906144fe565b612e3b81600d846003811061204057fe5b600d8360038110612e4857fe5b015580848360038110612e5757fe5b6020020152612e6e3382600a85600381106120e557fe5b612e8a5760405162461bcd60e51b8152600401610b459061450e565b50600101612dca565b5060135460405163079cc67960e41b81526001600160a01b03909116906379cc679090612ec69033908990600401614285565b600060405180830381600087803b158015612ee057600080fd5b505af1158015612ef4573d6000803e3d6000fd5b503392507fa49d4cf02656aebf8c771f5a8585638a2a15ee6c97cf7205d4208ed7c1df252d915084905083612f2f878a63ffffffff612f6216565b60405161215493929190614323565b6000612f4861332c565b905090565b6013546001600160a01b031681565b60115481565b600082821115612f845760405162461bcd60e51b8152600401610b45906143be565b50900390565b6000806060856001600160a01b031663a9059cbb8686604051602401612fb19291906142c8565b6040516020818303038152906040529060e01b6020820180516001600160e01b038381831617835250505050604051612fea919061425d565b6000604051808303816000865af19150503d8060008114613027576040519150601f19603f3d011682016040523d82523d6000602084013e61302c565b606091505b5090925090506001600160a01b03861673eca9bc828a3005b9a3b909f2cc5c2a54794de05f141561305f57509050610f50565b8180156130845750805115806130845750808060200190516130849190810190613a9f565b9695505050505050565b60008261309d57506000611115565b828202828482816130aa57fe5b0414610f505760405162461bcd60e51b8152600401610b45906143ce565b600082820183811015610f505760405162461bcd60e51b8152600401610b45906144ae565b6000836001600160801b0316856001600160801b031614156131215760405162461bcd60e51b8152600401610b45906144be565b6003846001600160801b03161061314a5760405162461bcd60e51b8152600401610b459061446e565b6003856001600160801b03161061316057600080fd5b600061316a61332c565b90506000613178848361111b565b90508060008061318f85600363ffffffff61308e16565b90506000805b6003811015613225578b6001600160801b03168114156131b7578991506131e4565b8a6001600160801b031681146131df578881600381106131d357fe5b602002015191506131e4565b61321d565b6131f4848363ffffffff6130c816565b935061321a61320a83600363ffffffff61308e16565b610f07878963ffffffff61308e16565b94505b600101613195565b5061324a61323a83600363ffffffff61308e16565b610f07868863ffffffff61308e16565b9350600061326e613261878563ffffffff6132f716565b859063ffffffff6130c816565b9050600086815b60ff8110156132e35790915081906132b361329f8a610cd58761121687600263ffffffff61308e16565b610f078a611216868063ffffffff61308e16565b9150828211156132db576001838303116132cc576132e3565b6001828403116132db576132e3565b600101613275565b50985050505050505050505b949350505050565b60008082116133185760405162461bcd60e51b8152600401610b459061445e565b600082848161332357fe5b04949350505050565b60175460155460009190428211156133e3576014546016548183111561339d57613392613385613362868463ffffffff612f6216565b610f07613375428663ffffffff612f6216565b6111f5888863ffffffff612f6216565b839063ffffffff6130c816565b9450505050506126c7565b6133926133d66133b3868463ffffffff612f6216565b610f076133c6428663ffffffff612f6216565b6111f5878963ffffffff612f6216565b839063ffffffff612f6216565b91506126c79050565b6000806060866001600160a01b03166323b872dd878787604051602401613415939291906142a0565b6040516020818303038152906040529060e01b6020820180516001600160e01b03838183161783525050505060405161344e919061425d565b6000604051808303816000865af19150503d806000811461348b576040519150601f19603f3d011682016040523d82523d6000602084013e613490565b606091505b5091509150818015611c0d575080511580611c0d575080806020019051611c0d9190810190613a9f565b60008060006134c761332c565b6010549091506000906134e890600890610f0790600363ffffffff61308e16565b90506000601360009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b815260040160206040518083038186803b15801561353a57600080fd5b505afa15801561354e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506135729190810190613b89565b905061357c613898565b613584612c13565b90506000613592828661111b565b905060006135ad6133d685610f078d8663ffffffff61308e16565b90506135b7613898565b508260006135c7888c8486613729565b9050600060048c6001600160801b0316600381106135e157fe5b01546135fc83888f6001600160801b031660038110610ef657fe5b8161360357fe5b04905060005b60038110156136ac5760006001600160801b038e168214156136445761363d84610cd589610f078a8d88600381106111a857fe5b905061366a565b61366761365b88610f07898c87600381106111a857fe5b898460038110610ef657fe5b90505b6136926136866402540be400610f078d8563ffffffff61308e16565b868460038110610ef657fe5b85836003811061369e57fe5b602002015250600101613609565b5060006136d36136be8b8f8789613729565b858f6001600160801b031660038110610ef657fe5b905061370160048e6001600160801b0316600381106136ee57fe5b015460001983019063ffffffff6132f716565b905080613714838263ffffffff612f6216565b9b509b50505050505050505050509250929050565b60006003846001600160801b0316106137545760405162461bcd60e51b8152600401610b459061449e565b8160008061376988600363ffffffff61308e16565b90506000805b60038110156137e657886001600160801b031681146137a05787816003811061379457fe5b602002015191506137a5565b6137de565b6137b5848363ffffffff6130c816565b93506137db6137cb83600363ffffffff61308e16565b610f07878a63ffffffff61308e16565b94505b60010161376f565b5061380b6137fb83600363ffffffff61308e16565b610f07868963ffffffff61308e16565b93506000613822613261888563ffffffff6132f716565b9050600087815b60ff81101561388857909150819061385361329f8b610cd58761121687600263ffffffff61308e16565b9150828211156138715760018383031161386c57613888565b613880565b60018284031161388057613888565b600101613829565b509b9a5050505050505050505050565b60405180606001604052806003906020820280388339509192915050565b82600381019282156138e4579160200282015b828111156138e45782518255916020019190600101906138c9565b506138f09291506138f4565b5090565b6126c791905b808211156138f057600081556001016138fa565b80356139198161468d565b610f50816145fe565b806060810183101561111557600080fd5b600082601f83011261394457600080fd5b6003613957613952826145c3565b61459d565b9150818385602084028201111561396d57600080fd5b60005b83811015613999578161398388826139c4565b8452506020928301929190910190600101613970565b5050505092915050565b8035611115816146a4565b8051611115816146a4565b8035611115816146ad565b8035611115816146b6565b8051611115816146b6565b6000602082840312156139ec57600080fd5b60006132ef848461390e565b60008060808385031215613a0b57600080fd5b6000613a178585613922565b9250506060613a28858286016139a3565b9150509250929050565b60008060808385031215613a4557600080fd5b6000613a518585613922565b9250506060613a28858286016139c4565b600060608284031215613a7457600080fd5b60006132ef8484613933565b60008060808385031215613a9357600080fd5b6000613a518585613933565b600060208284031215613ab157600080fd5b60006132ef84846139ae565b600080600060608486031215613ad257600080fd5b6000613ade86866139b9565b9350506020613aef868287016139b9565b9250506040613b00868287016139c4565b9150509250925092565b60008060008060808587031215613b2057600080fd5b6000613b2c87876139b9565b9450506020613b3d878288016139b9565b9350506040613b4e878288016139c4565b9250506060613b5f878288016139c4565b91505092959194509250565b600060208284031215613b7d57600080fd5b60006132ef84846139c4565b600060208284031215613b9b57600080fd5b60006132ef84846139cf565b60008060808385031215613bba57600080fd5b6000613bc685856139c4565b9250506020613a2885828601613922565b60008060408385031215613bea57600080fd5b6000613bf685856139c4565b9250506020613a28858286016139b9565b600080600060608486031215613c1c57600080fd5b6000613ade86866139c4565b60008060408385031215613c3b57600080fd5b6000613c4785856139c4565b9250506020613a28858286016139c4565b6000613c648383614254565b505060200190565b613c7581614638565b82525050565b613c75816145fe565b613c9060608383614655565b5050565b613c9d816145e0565b613ca781846145f0565b9250613cb2826126c7565b8060005b83811015613ce0578151613cca8782613c58565b9650613cd5836145ea565b925050600101613cb6565b505050505050565b6000613cf3826145e6565b613cfd81856145f0565b9350613d0d818560208601614661565b9290920192915050565b613c758161463f565b613c758161460e565b613c758161464a565b6000613d3f6011836145f5565b707a65726f20746f74616c20737570706c7960781b815260200192915050565b6000613d6c602e836145f5565b7f45786368616e676520726573756c74656420696e20666577657220636f696e7381526d081d1a185b88195e1c1958dd195960921b602082015260400192915050565b6000613dbc6012836145f5565b7137379030b1ba34bb32903a3930b739b332b960711b815260200192915050565b6000613dea6017836145f5565b76536166654d617468237375623a20554e444552464c4f5760481b815260200192915050565b6000613e1d6016836145f5565b75536166654d617468236d756c3a204f564552464c4f5760501b815260200192915050565b6000613e4f6009836145f5565b681a5cc81ada5b1b195960ba1b815260200192915050565b6000613e746013836145f5565b726661696c6564207472616e7366657266726f6d60681b815260200192915050565b6000613ea36013836145f5565b72191958591b1a5b99481a185cc81c185cdcd959606a1b815260200192915050565b6000613ed26018836145f5565b77139bdd08195b9bdd59da0818dbda5b9cc81c995b5bdd995960421b815260200192915050565b6000613f066014836145f5565b73536c697070616765207363726577656420796f7560601b815260200192915050565b6000613f36600a836145f5565b6937b7363c9037bbb732b960b11b815260200192915050565b6000613f5c600f836145f5565b6e30b1ba34bb32903a3930b739b332b960891b815260200192915050565b6000613f876010836145f5565b6f37379030b1ba34bb329030b1ba34b7b760811b815260200192915050565b6000613fb3601e836145f5565b7f536166654d617468236469763a204449564953494f4e5f42595f5a45524f0000815260200192915050565b6000613fec600f836145f5565b6e6a2061626f7665204e5f434f494e5360881b815260200192915050565b6000614017600d836145f5565b6c30b1ba34bb329030b1ba34b7b760991b815260200192915050565b60006140406013836145f5565b720696e5f616d6f756e74206d757374206774203606c1b815260200192915050565b600061406f600f836145f5565b6e692061626f7665204e5f434f494e5360881b815260200192915050565b600061409a6016836145f5565b75536166654d617468236164643a204f564552464c4f5760501b815260200192915050565b60006140cc6009836145f5565b6839b0b6b29031b7b4b760b91b815260200192915050565b60006140f1601f836145f5565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00815260200192915050565b600061412a6013836145f5565b726665652065786365656473206d6178696d756d60681b815260200192915050565b60006141596019836145f5565b7861646d696e206665652065786365656473206d6178696d756d60381b815260200192915050565b600061418e6030836145f5565b7f5769746864726177616c20726573756c74656420696e20666577657220636f6981526f1b9cc81d1a185b88195e1c1958dd195960821b602082015260400192915050565b60006141e0600f836145f5565b6e3330b4b632b2103a3930b739b332b960891b815260200192915050565b600061420b6011836145f5565b70696e73756666696369656e742074696d6560781b815260200192915050565b6000614238600d836145f5565b6c04431206d75737420677420443609c1b815260200192915050565b613c75816126c7565b6000610f508284613ce8565b602081016111158284613c7b565b602081016111158284613c6c565b604081016142938285613c6c565b610f506020830184614254565b606081016142ae8286613c7b565b6142bb6020830185613c7b565b6132ef6040830184614254565b604081016142938285613c7b565b61010081016142e58287613c84565b6142f26060830186613c94565b6142ff60c0830185614254565b61430c60e0830184614254565b95945050505050565b606081016111158284613c94565b60e081016143318286613c94565b61433e6060830185613c94565b6132ef60c0830184614254565b602081016111158284613d17565b608081016143678287613d20565b6143746020830186614254565b6143816040830185613d20565b61430c6060830184614254565b6020808252810161111581613d32565b6020808252810161111581613d5f565b6020808252810161111581613daf565b6020808252810161111581613ddd565b6020808252810161111581613e10565b6020808252810161111581613e42565b6020808252810161111581613e67565b6020808252810161111581613e96565b6020808252810161111581613ec5565b6020808252810161111581613ef9565b6020808252810161111581613f29565b6020808252810161111581613f4f565b6020808252810161111581613f7a565b6020808252810161111581613fa6565b6020808252810161111581613fdf565b602080825281016111158161400a565b6020808252810161111581614033565b6020808252810161111581614062565b602080825281016111158161408d565b60208082528101611115816140bf565b60208082528101611115816140e4565b602080825281016111158161411d565b602080825281016111158161414c565b6020808252810161111581614181565b60208082528101611115816141d3565b60208082528101611115816141fe565b602080825281016111158161422b565b602081016111158284614254565b6040810161455a8285614254565b610f506020830184613d29565b604081016142938285614254565b608081016145838287614254565b6145906020830186614254565b6143816040830185614254565b6040518181016001600160401b03811182821017156145bb57600080fd5b604052919050565b60006001600160401b038211156145d957600080fd5b5060200290565b50600390565b5190565b60200190565b919050565b90815260200190565b600061111582614620565b151590565b600f0b90565b6001600160801b031690565b6001600160a01b031690565b6001600160a81b031690565b6000611115825b6000611115826145fe565b6000611115826126c7565b82818337506000910152565b60005b8381101561467c578181015183820152602001614664565b83811115610e005750506000910152565b6146968161462c565b81146146a157600080fd5b50565b61469681614609565b61469681614614565b614696816126c756fea36474726f6e5820319c6cf60b4bb986d8c01c76fe0298949d9f61a9c6d5df0389a0a591fcbc41ae6c6578706572696d656e74616cf564736f6c634300050c003f",
#         # "abi": "[{\"constant\":false,\"inputs\":[{\"name\":\"key\",\"type\":\"uint256\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"key\",\"type\":\"uint256\"}],\"name\":\"get\",\"outputs\":[{\"name\":\"value\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]",
#         # "bytecode": "608060405234801561001057600080fd5b5060de8061001f6000396000f30060806040526004361060485763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416631ab06ee58114604d5780639507d39a146067575b600080fd5b348015605857600080fd5b506065600435602435608e565b005b348015607257600080fd5b50607c60043560a0565b60408051918252519081900360200190f35b60009182526020829052604090912055565b600090815260208190526040902054905600a165627a7a72305820fdfe832221d60dd582b4526afa20518b98c2e1cb0054653053a844cf265b25040029",
#         "fee_limit": 1000000,
#         "origin_energy_limit": 100000,
#         "name": "SomeContract",
#         "call_value": ,
#         "consume_user_resource_percent": 100
#     }
#     headers = {"Content-Type": "application/json"}
#
#     response = requests.request("POST", url, json=payload, headers=headers)
#
#     print(response.text)

#触发智能合约
# curl -X POST  http://47.252.19.181:8090/wallet/triggersmartcontract -d '{"contract_address":"4186526B2FAB58DE68916111ED9A4FC45973A68857","function_selector":"approve(address,uint256)","parameter":"000000000000000000000000be16fd25b87f12bbec7ba29028f05471000582a70000000000000000000000000000000000000000000000008ac7230489e80000","fee_limit":10,"call_value":100,"owner_address":"41be16fd25b87f12bbec7ba29028f05471000582a7"}'
# def triggerSmartContract():
#     url = "http://47.252.19.181:8090/wallet/triggersmartcontract"
#     payload = {
#         "owner_address": "41be16fd25b87f12bbec7ba29028f05471000582a7",
#         "contract_address": "4186526B2FAB58DE68916111ED9A4FC45973A68857",
#         "function_selector": "approve(address,uint256)",
#         "parameter": "000000000000000000000000be16fd25b87f12bbec7ba29028f05471000582a70000000000000000000000000000000000000000000000008ac7230489e80000"
#     }
#     headers = {"Content-Type": "application/json"}
#
#     response = requests.request("POST", url, json=payload, headers=headers)
#
#     print(response.text)
